library("tidyverse")
library("lhs")
f <- function(file, bench) {
data <- NA
df <- read_delim(file, delim = ";", col_names = FALSE)
df <- df %>%
group_by(X3) %>%
summarise(Time = sum(X7) / 3) %>%
mutate(
Bench = bench
)
data <- rbind(data, df)
data <- data %>% filter(!is.na(Time))
return(data)
}
pdigest_tile <- f("pdigest_20180716-120628_87_nc_on_time_performance-quantile-0_500-tile.csv",
"pdigest_tile")
pdigest_region <- f("pdigest_20180716-185506_87_nc_on_time_performance-quantile-0_500-region",
"pdigest_region")
f <- function(file, bench) {
data <- NA
df <- read_delim(file, delim = ";", col_names = FALSE)
df <- df %>%
group_by(X3) %>%
summarise(Time = sum(X7) / 3) %>%
mutate(
Bench = bench
)
data <- rbind(data, df)
data <- data %>% filter(!is.na(Time))
return(data)
}
pdigest_tile <- f("pdigest_20180716-120628_87_nc_on_time_performance-quantile-0_500-tile.csv",
"pdigest_tile")
pdigest_region <- f("pdigest_20180716-185506_87_nc_on_time_performance-quantile-0_500-region.csv",
"pdigest_region")
raw_tile <- f("raw_20180716-120628_87_nc_on_time_performance-quantile-0_500-tile.csv",
"raw_tile")
raw_region <- f("raw_20180716-120628_87_nc_on_time_performance-quantile-0_500-region.csv",
"raw_region")
data <- rbind(pdigest_tile, pdigest_region, raw_tile, raw_region)
df <- data %>%
group_by(Bench) %>%
summarise(
Max = max(Time),
Min = min(Time),
Mean = mean(Time),
Stdv = sd(Time)
) %>% filter(!is.na(Max))
df_121453 <- df %>% filter(Bench == "121453")
df_092927 <- df %>% filter(Bench == "092927")
min_max_121453 <- which.min(df_121453$Max)
min_max_092927 <- which.min(df_092927$Max)
min_mean_121453 <- which.min(df_121453$Mean)
min_mean_092927 <- which.min(df_092927$Mean)
df %>% ggplot() +
geom_line(aes(x = Factor, y = Max, colour = Bench)) +
# geom_errorbar(aes(ymin= Mean - Stdv, ymax = Mean + Stdv, x = Factor), width=.1) +
geom_vline(xintercept = 5, linetype = 2, colour = "black") +
geom_label(aes(x = 5, y = 7500, label = 'default')) +
geom_vline(xintercept = min_max_121453, linetype = 2, colour = "blue") +
geom_label(aes(x = min_max_121453, y = 7500, label = '<121453>\nmin(time)')) +
geom_vline(xintercept = min_max_092927, linetype = 2, colour = "red") +
geom_label(aes(x = min_max_092927, y = 6000, label = '<092927>\nmin(time)')) +
theme_bw() +
scale_x_continuous(limits = c(0, 100), breaks = round(seq(0, 100, by = 5), 2)) +
scale_y_continuous(limits = c(3500, 9500), breaks = round(seq(3500, 9500, by = 500), 2))
df <- data %>%
group_by(Bench) %>%
summarise(
Max = max(Time),
Min = min(Time),
Mean = mean(Time),
Stdv = sd(Time)
) %>% filter(!is.na(Max))
df_121453 <- df %>% filter(Bench == "121453")
df_092927 <- df %>% filter(Bench == "092927")
min_max_121453 <- which.min(df_121453$Max)
min_max_092927 <- which.min(df_092927$Max)
min_mean_121453 <- which.min(df_121453$Mean)
min_mean_092927 <- which.min(df_092927$Mean)
df %>% ggplot() +
geom_line(aes(x = Factor, y = Max, colour = Bench)) +
# geom_errorbar(aes(ymin= Mean - Stdv, ymax = Mean + Stdv, x = Factor), width=.1) +
geom_vline(xintercept = 5, linetype = 2, colour = "black") +
geom_label(aes(x = 5, y = 7500, label = 'default')) +
geom_vline(xintercept = min_max_121453, linetype = 2, colour = "blue") +
geom_label(aes(x = min_max_121453, y = 7500, label = '<121453>\nmin(time)')) +
geom_vline(xintercept = min_max_092927, linetype = 2, colour = "red") +
geom_label(aes(x = min_max_092927, y = 6000, label = '<092927>\nmin(time)')) +
theme_bw() +
scale_x_continuous(limits = c(0, 100), breaks = round(seq(0, 100, by = 5), 2)) +
scale_y_continuous(limits = c(3500, 9500), breaks = round(seq(3500, 9500, by = 500), 2))
f <- function(file, bench) {
data <- NA
df <- read_delim(file, delim = ";", col_names = FALSE)
df <- df %>%
group_by(X3) %>%
summarise(Time = sum(X7) / 3) %>%
mutate(
Bench = bench
)
data <- rbind(data, df)
data <- data %>% filter(!is.na(Time))
return(data)
}
pdigest_tile <- f("pdigest_20180716-120628_87_nc_on_time_performance-quantile-0_500-tile.csv",
"pdigest_tile")
pdigest_region <- f("pdigest_20180716-185506_87_nc_on_time_performance-quantile-0_500-region.csv",
"pdigest_region")
raw_tile <- f("raw_20180716-120628_87_nc_on_time_performance-quantile-0_500-tile.csv",
"raw_tile")
raw_region <- f("raw_20180716-120628_87_nc_on_time_performance-quantile-0_500-region.csv",
"raw_region")
data <- rbind(pdigest_tile, pdigest_region, raw_tile, raw_region)
data
