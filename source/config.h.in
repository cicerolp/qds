//
// Created by cicerolp on 11/5/17.
//

#ifndef NDS_CONFIG_H_IN
#define NDS_CONFIG_H_IN

#include <cmath>

#cmakedefine OPTIMIZE_LEAF

#cmakedefine ENABLE_PDIGEST

#ifdef ENABLE_PDIGEST
    #cmakedefine PDIGEST_WEIGHT_LIMIT
    #cmakedefine PDIGEST_PIECE_WISE_APPROXIMATION

    #define PDIGEST_COMPRESSION @PDIGEST_COMPRESSION@

    #ifdef PDIGEST_WEIGHT_LIMIT
    // the weight limit approach generates smaller centroids than necessary
    // that can result in using a bit more memory than expected
        #define PDIGEST_ARRAY_SIZE (uint32_t)((std::ceil(@PDIGEST_COMPRESSION@) * 2) + 10)
    #else
        #define PDIGEST_ARRAY_SIZE (uint32_t)((std::ceil(@PDIGEST_COMPRESSION@) * 2))
    #endif
#endif

#endif //NDS_CONFIG_H_IN
